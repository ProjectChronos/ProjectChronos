/*
 * ChronoEmu Scripts - Blackrock Depths Header
 * Copyright (C) 2010 ForsakenGaming <http://forsakengaming.com/>
 * Developed by SideWays
 */


#define GO_FLAG_UNCLICKABLE 0x00000010

#define ARENA_TRIGGER		28004
#define WAVE_ONE_TIMER		17000
#define WAVE_TWO_TIMER		20000
#define WAVE_THREE_TIMER	20000
#define BOSS_SPAWN_TIMER	17000

#define PORTRAIT_DUMMY		28012
#define KEEPER_BETHEK		9438
#define KEEPER_OFGUT		9442
#define KEEPER_PELVER		9443
#define KEEPER_UGGEL		9439
#define KEEPER_VORFALK		9437
#define KEEPER_ZIMREL		9441
#define KEEPER_GUARD		9445

#define RUN					256
#define WALK				0

static Coords KegWP[]=
{
	{ },
	{ 859.910, -150.949, -49.75, 5.450 },
	{ 885.531, -151.691, -49.75, 0.247 },
	{ 904.921, -150.515, -49.75, 0.015 }
};

static Coords BethekSpawns[]=
{
	//First Keeper
	{ 812.44, -348.83, -50.57, 0.71 },
	{ 816.99, -348.65, -50.57, 0.71 },
	{ 811.59, -353.37, -50.57, 0.71 },
	{ 808.07, -348.75, -50.57, 0.71 },
	{ 812.51, -344.37, -50.57, 0.71 }
};
static Coords OfgutSpawns[]=
{
	//Second Keeper
	{ 660.07, 2.69, - 60.583, 1.05 },
	{ 659.35, -0.63, - 60.583, 1.05 },
	{ 655.39, 2.18, - 60.583, 1.05 },
	{ 663.82, 2.99, - 60.583, 1.05 },
	{ 658.11, 7.22, - 60.583, 1.05 }
};
static Coords PelverSpawns[]=
{
	//Third Keeper
	{ 804.78, -246.48, -43.30, 2.47 },
	{ 805.16, -243.29, -43.30, 2.47 },
	{ 808.59, -246.00, -43.30, 2.47 },
	{ 804.83, -251.19, -43.30, 2.47 },
	{ 800.77, -248.02, -43.30, 2.47 }
};
static Coords UggelSpawns[]=
{
	//Fourth Keeper
	{ 898.13, -348.96, -49.93, 1.63 },
	{ 901.13, -346.05, -49.93, 1.63 },
	{ 901.25, -351.66, -49.93, 1.63 },
	{ 893.40, -351.77, -49.93, 1.63 },
	{ 893.46, -344.60, -49.93, 1.63 }
};
static Coords VorfalkSpawns[]=
{
	//Fifth Keeper
	{ 850.77, -177.46, -49.75, 2.02 },
	{ 854.43, -178.16, -49.75, 2.02 },
	{ 851.58, -174.07, -49.75, 2.02 },
	{ 846.13, -177.43, -49.75, 2.02 },
	{ 849.54, -181.90, -49.75, 2.02 }
};
static Coords ZimrelSpawns[]=
{
	//Sixth Keeper
	{ 595.31, -248.72, -38.42, 4.72 },
	{ 592.73, -251.99, -38.42, 4.72 },
	{ 592.65, -246.53, -38.42, 4.72 },
	{ 598.93, -246.53, -38.42, 4.72 },
	{ 599.19, -251.64, -38.42, 4.72 }
};

static Coords GrimstoneWP[]=
{
	{ },
	{ 609.864, -194.981, -53.733, 2.886 },
	{ 607.882, -223.355, -52.631, 4.705 },
	{ 609.864, -194.981, -53.733, 2.886 },
	{ 631.592, -180.530, -52.666, 0.381 }
};

static Coords RolBossWP[]=
{
	{ },
	{ 633.131, -178.876, -52.587, 3.414 },
	{ 610.492, -184.737, -53.761, 3.331 },
	{ 589.379, -174.383, -53.678, 3.618 },
	{ 591.982, -199.984, -53.770, 5.267 }
};

static Coords WaveOneWP[]=
{
	{ },
	{ 606.499, -226.091, -52.574, 1.800 },
	{ 610.492, -184.737, -53.761, 3.331 },
	{ 589.379, -174.383, -53.678, 3.618 },
	{ 591.982, -199.984, -53.770, 5.267 }
};

static Coords SoldierSpawns[]=
{
	{ 633.597, -227.325, -36.9129 },
	{ 545.277, -172.964, -36.8681 },
	{ 564.052, -232.826, -36.8618 },
	{ 568.816, -142.538, -36.8602 },
	{ 630.548, -141.538, -35.5298 },
	{ 651.877, -172.598, -35.5238 },
	{ 565.406, -238.728, -35.5046 },
	{ 545.488, -162.486, -35.4606 },
	{ 558.88, -137.183, -34.0844 },
	{ 644.298, -149.025, -34.0718 }
};

static Coords PeasantSpawns[]=
{
	{ 630.439, -147.045, -36.9195 },
	{ 638.765, -155.361, -36.9171 },
	{ 547.512, -168.355, -36.8797 },
	{ 571.724, -237.314, -36.847 },
	{ 572.808, -140.939, -36.8044 },
	{ 638.577, -149.822, -35.5189 },
	{ 539.627, -189.186, -35.5125 },
	{ 560.295, -235.085, -35.4579 },
	{ 571.426, -137.882, -35.4362 },
	{ 638.203, -229.41, -35.3931 },
	{ 640.897, -225.034, -35.1749 },
	{ 534.287, -173.755, -34.1096 },
	{ 564.922, -132.282, -34.0677 },
	{ 573.1, -245.279, -34.0668 }
};

static Coords SpectatorSpawns[]=
{
	{ 647.568, -172.909, -36.9245 },
	{ 633.551, -150.085, -36.9221 },
	{ 650.016, -184.77, -36.9107 },
	{ 649.264, -176.105, -36.907 },
	{ 650.177, -180.163, -36.8973 },
	{ 650.177, -180.163, -36.8973 },
	{ 625.097, -235.386, -36.8931 },
	{ 629.115, -232.726, -36.89 },
	{ 542.846, -178.15, -36.887 },
	{ 575.489, -238.36, -36.8509 },
	{ 578.281, -139.209, -36.7895 },
	{ 580.626, -138.046, -36.7586 },
	{ 653.344, -190.509, -35.5261 },
	{ 539.557, -179.862, -35.5257 },
	{ 633.191, -144.662, -35.5235 },
	{ 635.871, -147.005, -35.5167 },
	{ 539.612, -184.316, -35.5069 },
	{ 577.724, -242.723, -35.4771 },
	{ 581.317, -133.988, -35.456 },
	{ 574.24, -136.707, -35.4314 },
	{ 559.582, -242.593, -34.094 },
	{ 659.228, -181.813, -34.0787 },
	{ 538.864, -166.645, -34.0779 },
	{ 658.992, -186.378, -34.0766 },
	{ 639.042, -143.629, -34.0727 },
	{ 570.107, -244.451, -34.0701 }
};

static Coords PhalanxWP[]=
{
	{ },
	{ 865.79, -220.81, -43.70, 2.20 },
	{ 868.72, -226.16, -43.72, 5.22 },
	{ 867.33, -223.71, -43.68, 2.08 }
};

static Coords ArgelmachWP[]=
{
	{ },
	{ 807.937, 26.824, -53.639, 2.900 },
	{ 803.904, 51.585, -53.666, 1.689 }
};

static Coords RibblySpawns[]=
{
	{ },
	{ 878.471, -167.726, -49.6751 },
	{ 880.844, -167.852, -49.673 },
	{ 877.042, -166.488, -49.6748 },
	{ 875.615, -168.167, -49.6746 }
};

static Coords RocknotWP[]=
{
	{ },
	{ 870.95, -186.39, -43.70, 2.43 },
	{ 862.96, -191.58, -43.70, 2.63 },
	{ 850.42, -198.51, -43.70, 2.36 }
};

static Coords AmbassadorRunes[]=
{
	{ 1029.22, -257.987, -61.9462 },
	{ 1046.23, -241.007, -61.9462 },
	{ 1012.28, -274.911, -61.9462 },
	{ 1029.29, -224.058, -61.9462 },
	{ 995.262, -257.966, -61.9462 },
	{ 1012.31, -207.095, -61.9462 },
	{ 978.344, -240.967, -61.9462 }
};

static Coords RandomGuardSpawn[]=
{
	{ 1354.24, -677.489, -92.0543 },
	{ 1354.28, -587.524, -92.0543 },
	{ 1406.95, -677.437, -92.0543 },
	{ 1406.35, -587.665, -92.0543 },
	{ 1407.17, -632.6, -92.0543 },
	{ 1354.92, -632.381, -92.0543 }
};

static Coords EmperorRoomDragoon[]=
{
	{ },
	{ 1353.81, -750.287, -85.0639 },
	{ 1354.42, -771.809, -92.6382 },
	{ 1354.93, -796.008, -85.0636 },
	{ 1380.07, -748.738, -92.7221 },
	{ 1380.51, -796.016, -92.7213 },
	{ 1396.71, -731.332, -91.8982 },
	{ 1398.8, -813.485, -91.8983 },
	{ 1406.38, -791.195, -85.0604 }
};

static Coords EmperorRoomSenator[]=
{
	{ },
	{ 1345, -738.206, -85.0695 },
	{ 1348.12, -737.908, -85.0691 },
	{ 1348.78, -746.289, -85.0697 },
	{ 1349.8, -806.159, -85.0689 },
	{ 1350.21, -799.457, -85.0696 },
	{ 1352.36, -726.895, -91.8983 },
	{ 1353.16, -737.336, -85.0684 },
	{ 1355.17, -823.596, -91.8983 },
	{ 1355.33, -817.552, -91.8983 },
	{ 1358.75, -726.641, -91.8983 },
	{ 1359.98, -817.372, -91.8983 },
	{ 1363.32, -824.042, -91.8983 },
	{ 1363.85, -766.909, -91.8977 },
	{ 1368.32, -770.381, -92.6385 },
	{ 1368.69, -775.013, -92.6385 },
	{ 1395.39, -816.384, -91.8982 },
	{ 1395.83, -821.299, -91.8982 },
	{ 1401.37, -728.191, -91.8983 },
	{ 1406.05, -821.902, -91.8983 },
	{ 1406.52, -801.503, -85.0678 },
	{ 1408.14, -728.471, -91.8983 },
	{ 1409.15, -775.851, -92.6389 },
	{ 1411.75, -799.675, -85.0696 },
	{ 1416.87, -740.27, -85.0697 },
	{ 1418.24, -768.974, -92.6388 },
	{ 1420.37, -775.428, -92.6383 },
	{ 1420.51, -737.975, -85.07 },
	{ 1426.92, -742.128, -85.0707 }
};

static Coords EmperorRoomTwilight[]=
{
	{ },
	{ 1345.59, -799.74, -85.07 },
	{ 1351.93, -802.79, -85.069 },
	{ 1352.81, -745.174, -85.0686 },
	{ 1354.74, -723.03, -91.8983 },
	{ 1356.95, -733.003, -91.8983 },
	{ 1359.29, -823.739, -91.8983 },
	{ 1364.69, -778.893, -91.8977 },
	{ 1398.54, -823.968, -91.8983 },
	{ 1402.53, -723.347, -91.8983 },
	{ 1406.05, -816.533, -91.8983 },
	{ 1406.23, -804.881, -85.0685 },
	{ 1406.5, -798.135, -85.0654 },
	{ 1406.73, -722.535, -91.8983 },
	{ 1408.46, -769.655, -92.6389 },
	{ 1421.76, -742.721, -85.0705 },
	{ 1424.55, -772.501, -91.8962 }
};

class RingOfLawTrigger : public MoonScriptCreatureAI
{
public:
	MOONSCRIPT_FACTORY_FUNCTION( RingOfLawTrigger, MoonScriptCreatureAI );
    RingOfLawTrigger( Creature* pCreature );

    void AIUpdate();

	void StartEvent();
	void SpawnWaveOne();
	void SpawnWaveTwo();
	void SpawnWaveThree();
	void SpawnRolBoss();

	// Procedure that removes all event spawns
	void Destroy();

	// Timers and random ID's
	int32				RandomCreatureID;
	int32				mWaveOneTimer;
	int32				mWaveTwoTimer;
	int32				mWaveThreeTimer;
	int32				mBossTimer;

	// Event additions
	bool				mFirstWave;
	bool				mSecondWave;
	bool				mThirdWave;
	bool				mBossSpawn;
	bool				mDontRepeat;
	bool				mEndEvent;

	//Player pointer
	Player*				Plr;

	// Creature AI pointers
	Creature*		LastMoba;
	Creature*		LastMobb;
	Creature*		LastMobc;
	Creature*		RolBoss;
};